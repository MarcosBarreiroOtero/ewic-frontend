<html t:type="layout" title="appName"
	xmlns:t="http://tapestry.apache.org/schema/tapestry_5_4.xsd"
	xmlns:p="tapestry:parameter">

<div class="row">
	<div class="col-md-2">
		<div class="panel panel-default">
			<div class="panel-heading text-center">
				<h3>${message:myShops}</h3>
			</div>
			<div class="panel-body" style="overflow: auto; height: 75vh;">
				<t:loop source="shops" value="shop">
					<div class="row justify-content-center">
						<div class="col-sm-11">
							<t:actionlink t:id="clickShop" t:async="true"
								context="shop.idShop" class="btn btn-block btn-outline-primary">
								${shop.name}
							</t:actionlink>
						</div>
					</div>
				</t:loop>
			</div>
		</div>
	</div>
	<div class="col-md-10">
		<t:zone t:id="activeShopArea" id="activeShopArea">
			<t:if test="activeShop">
				<div class="panel panel-default">
					<div class="panel-heading text-center">
						<h3>${activeShop.name}</h3>
					</div>
					<div class="panel-body" style="overflow: auto; height: 75vh;">
						<div class="row justify-content-center">
							<div class="col-sm-6">
								<h4>${message:location}: ${activeShop.location}</h4>
							</div>
							<div class="col-sm-6">
								<h4>${message:shopType}: ${shopType}</h4>
							</div>
							<div class="col-sm-6">
								<h4>
									${message:state}:
									<t:if test="activeShop.allowEntries">
										<span class="text-success"> ${message:open} </span>
										<p:else>
											<span class="text-danger"> ${message:closed} </span>
										</p:else>
									</t:if>
								</h4>
							</div>
							<div class="col-sm-6">
								<h4>
									${message:capacity}: <span class="${capacityColorClass}">${capacityControlState}</span>
								</h4>
							</div>
							<div class="col-sm-6">
								<h4>${message:dailyEntries}: ${nEntries}</h4>
							</div>
							<div class="col-sm-6">
								<h4>${message:avgDuration}: ${avgDuration}</h4>
							</div>
						</div>
						<div class="row">
							<div class="col-sm-12">
								<h3>${message:upcomingReservations}</h3>
							</div>
							<div class="col-sm-12">
								<t:loop source="reservations" value="reservation">
									<div class="row justify-content-center">
										<div class="col-sm-3">
											<h4>${message:client}: ${reservation.clientName}</h4>
										</div>
										<div class="col-sm-3">
											<h4>${message:nClients}: ${reservation.nClients}</h4>
										</div>
										<div class="col-sm-3">
											<h4>${message:date}: ${reservationDate}</h4>
										</div>
										<div class="col-sm-3">
											<h4>
												${message:state}: <span class="text-success">${reservationState}</span>
											</h4>
										</div>
										<div class="col-sm-12">
											<h4>${message:remarks}: ${reservation.remarks}</h4>
										</div>
									</div>
									<hr />
								</t:loop>
							</div>
						</div>
					</div>
				</div>

				<p:else>
					<div class="row justify-content-center">
						<h4 class="text-center">${message:clickShopMessage}</h4>
					</div>
				</p:else>
			</t:if>
		</t:zone>
	</div>
</div>

</html>
